package com.malware.android;

import android.app.Activity;
import android.content.Context;
import android.content.Intent;
import android.os.Bundle;
import android.view.Menu;
import android.view.MenuItem;
import android.view.View;
import android.widget.Button;
import android.widget.ImageButton;

public class MalwareRequest extends Activity {
	
	Context myContext;
	
	public void onCreate(Bundle savedInstanceState) {
		super.onCreate(savedInstanceState);
		setContentView(R.layout.malware_request);
		
		myContext = this;
		
		// Start notification thread.
    	Thread t = new Thread(new MalwareNotificationThread(this));
    	t.start();
		
		ImageButton ride = (ImageButton)findViewById(R.id.request_ride);
		ImageButton drive = (ImageButton)findViewById(R.id.request_drive);
		ImageButton search = (ImageButton)findViewById(R.id.request_search);
		
		ride.setOnClickListener(new View.OnClickListener() {
			public void onClick(View view) {
				Intent myIntent = new Intent(view.getContext(), MalwareCurrent.class);
				myIntent.putExtra("riderOrDriver", "rider");
				startActivity(myIntent);
			}
		});
		
		drive.setOnClickListener(new View.OnClickListener() {
			public void onClick(View view) {
				Intent myIntent = new Intent(view.getContext(), MalwareCurrent.class);
				myIntent.putExtra("riderOrDriver", "driver");
				startActivity(myIntent);
			}
		});
		
		search.setOnClickListener(new View.OnClickListener() {
			public void onClick(View view) {
				Intent myIntent = new Intent(view.getContext(), MalwareSearch.class);
				startActivity(myIntent);
				
			}
		});
	}
	
	/* Creates the menu items */
	public boolean onCreateOptionsMenu(Menu menu) {
	    menu.add(0, 0, 1, "Edit Profile");
	    menu.add(0, 1, 2, "Sign Out");
	    menu.add(0, 2, 3, "Quit");
	    return true;
	}

	/* Handles item selections */
	public boolean onOptionsItemSelected(MenuItem item) {
	    switch (item.getItemId()) {
	    case 0:
			Intent myIntent = new Intent(this, MalwareUserProfile.class);
			startActivity(myIntent);
	        return true;
	    }
	    return true;
	}
}
