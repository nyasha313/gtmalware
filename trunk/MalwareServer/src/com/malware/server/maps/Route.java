package com.malware.server.maps;

import org.json.JSONException;
import org.json.JSONObject;

/**
 * Represents a Route that the Google Maps API returns.
 * 
 * Simply wraps all of the JSON data into an easily accessible class.
 * 
 * @author Kaushik
 */
public class Route {
	
	public JSONObject json = null;
	
	public Route(String jsonStringRepresentation) {
		try {
			json = new JSONObject(jsonStringRepresentation);
		} catch (JSONException e) {
			json = null;
		}
	}

	public Route(JSONObject json) {
		this.json = json;
	}
	
	public JSONObject getJson() {
		return json;
	}
	
	/**
	 * Returns the distance of this route in metres.
	 */
	public double getDistanceInMetres() {
		try {
			return getDistance().getDouble("meters");
		} catch (JSONException e) {
			return -1;
		}
	}
	
	private JSONObject getDistance() {
		try {
			return getDirections().getJSONObject("Distance");
		} catch (JSONException e) {
			return null;
		}
	}
	
	private JSONObject getDirections() {
		try {
			return json.getJSONObject("Directions");
		} catch (JSONException e) {
			return null;
		}
	}
}
