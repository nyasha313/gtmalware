package com.malware.android;

import java.util.ArrayList;
import java.util.List;

import com.malware.android.R;
import com.malware.common.dto.Trip;

import android.view.LayoutInflater;
import android.view.View;
import android.view.ViewGroup;
import android.widget.ArrayAdapter;
import android.widget.ImageView;
import android.widget.TextView;
import android.content.Context;


class TripAdapter extends ArrayAdapter<Trip> {

    private List<Trip> items;
    private Context ctx;

    public TripAdapter(Context context, int textViewResourceId, List<Trip> items) {
            super(context, textViewResourceId, items);
            this.items = items;
            ctx=context;
    }

    public View getView(int position, View convertView, ViewGroup parent) {
            View v = convertView;
            Trip t = items.get(position);
            if (v == null) {
                LayoutInflater vi = (LayoutInflater)ctx.getSystemService(Context.LAYOUT_INFLATER_SERVICE);
                v = vi.inflate(R.layout.row, null);
                
            }
            
            if (t != null) {
                    TextView tt = (TextView) v.findViewById(R.id.toptext);
                    TextView mt = (TextView) v.findViewById(R.id.middletext);
                    TextView bt = (TextView) v.findViewById(R.id.bottomtext);
                    if (tt != null) {
                          tt.setText(t.getSourceText()+" to "+t.getDestinationText());       
                    }
                    if (mt != null) {
                          mt.setText("Email: "+t.getUserEmailAddress());
                    }
                    if (bt != null) {
                    	if(t.isDriverTrip())
                    		mt.setText("Driver");
                    	else
                    		mt.setText("Rider");
                    }
            }
            return v;
    }

}