package com.malware.server;

import java.util.List;

import com.malware.common.dto.ServerRequest;
import com.malware.common.dto.ServerResponse;
import com.malware.common.dto.Trip;
import com.malware.common.dto.ServerRequest.ServerMethod;
import com.malware.common.dto.ServerResponse.ResponseCode;

/**
 * This class stores information about a new user into the database.
 */
public class SearchTripsMethod {

	public static ServerResponse execute(ServerRequest serverRequest) {
		assert serverRequest.getServerMethod() == ServerMethod.SEARCH_TRIPS;
		
		String searchKeyword = serverRequest.getSearchKeyword();
		
		// Perform the search with the keyword.
		// TODO(kaushikr): Put in more than just a stub.
		
		List<Trip> trips = CommonDataAccessMethods.searchTrips(searchKeyword);
		
		ServerResponse serverResponse = new ServerResponse();
		serverResponse.setResponseCode(ResponseCode.SUCCESS);
		
		serverResponse.setTrips(trips);
		
		return serverResponse;
	}
}
